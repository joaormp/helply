# ========================================
# Helply - Configuração para Produção (Coolify)
# ========================================
# Usar como referência para configurar no Coolify

APP_NAME=Helply
APP_ENV=production
APP_KEY=  # Gerar com: php artisan key:generate --show
APP_DEBUG=false
APP_TIMEZONE=Europe/Lisbon
APP_URL=https://helply.tailotek.dev
APP_LOCALE=pt
APP_FALLBACK_LOCALE=en

# ========================================
# MULTI-TENANCY (Subdomain-based para produção)
# ========================================
CENTRAL_DOMAIN=helply.tailotek.dev
# IMPORTANTE: Incluir o ponto inicial para wildcard
TENANT_SUBDOMAIN_SUFFIX=.helply.tailotek.dev

# ========================================
# DATABASE - PostgreSQL Coolify
# ========================================
DB_CONNECTION=pgsql
DB_HOST=postgres  # Service name no Coolify
DB_PORT=5432
DB_DATABASE=helply_central
DB_USERNAME=helply
DB_PASSWORD=  # Gerar senha forte

# Prefixo para databases dos tenants
TENANT_DB_PREFIX=helply_tenant_

# ========================================
# CACHE & SESSION (Redis)
# ========================================
SESSION_DRIVER=redis
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=.helply.tailotek.dev

CACHE_STORE=redis

# ========================================
# QUEUE (Redis)
# ========================================
QUEUE_CONNECTION=redis

# ========================================
# REDIS
# ========================================
REDIS_CLIENT=phpredis
REDIS_HOST=redis  # Service name no Coolify
REDIS_PASSWORD=
REDIS_PORT=6379

# ========================================
# MAIL (SMTP Production)
# ========================================
MAIL_MAILER=smtp
MAIL_HOST=  # Seu servidor SMTP
MAIL_PORT=587
MAIL_USERNAME=  # Seu username
MAIL_PASSWORD=  # Sua password
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS="noreply@helply.tailotek.dev"
MAIL_FROM_NAME="${APP_NAME}"

# ========================================
# STRIPE (Billing)
# ========================================
STRIPE_KEY=
STRIPE_SECRET=
STRIPE_WEBHOOK_SECRET=

# ========================================
# FILESYSTEM
# ========================================
FILESYSTEM_DISK=local
# Para S3/Spaces:
# FILESYSTEM_DISK=s3
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_DEFAULT_REGION=
# AWS_BUCKET=
# AWS_URL=

# ========================================
# LOGGING
# ========================================
LOG_CHANNEL=stack
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=error

# ========================================
# VITE
# ========================================
VITE_APP_NAME="${APP_NAME}"

# ========================================
# SECURITY
# ========================================
# Estas variáveis são opcionais mas recomendadas
SANCTUM_STATEFUL_DOMAINS=helply.tailotek.dev,*.helply.tailotek.dev

# ========================================
# NOTAS IMPORTANTES
# ========================================
# 1. Nunca commit este ficheiro com valores reais
# 2. Configurar wildcard DNS: *.helply.tailotek.dev -> SERVER_IP
# 3. Coolify configura SSL automático
# 4. Queue worker deve correr: php artisan queue:work
# 5. Scheduler deve correr: php artisan schedule:work
